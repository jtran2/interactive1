!function(){function e(){if(bandpageTracker.debugEnabled&&console&&console.log){var e=[].slice.call(arguments);e.unshift("BandPage Tracking Debug:"),console.log.apply(console,e)}}function r(e,r){for(var n,o=e.split("?")[1]||"",a={},t=/[?&]?([^=]+)=([^&#]*)/g;n=t.exec(o);)a[A(n[1])]=A(n[2]);return a[r]}function n(e){return A(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+v(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function o(e,r){for(var n in r)n in e||(e[n]=r[n]);return e}function a(e){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}function t(e){for(var r in e)e.hasOwnProperty(r)&&"undefined"==typeof e[r]&&delete e[r];return e}function i(e){var r=t({skuId:window["BANDPAGE_SKU_ID_"+e],amount:window["BANDPAGE_AMOUNT_"+e],cat:window["BANDPAGE_CAT_"+e]});return a(r)?null:r}function d(){for(var r,n=[],o=1;r=i(o);)"amount"in r||(e('Missing SKU amount. Setting to string "0.00".'),r.amount="0.00"),n.push(r),o++;return n}function c(e,r){for(var n,a,t=0;t<r.length;t++)n=r[t],a={},a["sku"+(t+1)]=n.skuId,a["amount"+(t+1)]=n.amount,a["cat"+(t+1)]=n.cat,o(e,a);return e}function u(r){var n=bandpageTracker.conversionUrl;r=t(r);for(var o in r)r.hasOwnProperty(o)&&(e("Adding conversion parameter:",o,"=",r[o]),n+="&"+v(o)+"="+v(r[o]));return n}function g(e){return e in bandpageTracker.__conversions?!1:(bandpageTracker.__conversions[e]=!0,!0)}var p,s,b,l,m,f=window,k=f.location,A=f.decodeURIComponent,v=f.encodeURIComponent;return f.bandpageTracker=f.bandpageTracker||{},o(bandpageTracker,{__conversions:{},debugEnabled:!!n("bp-debug"),conversionUrl:"https://tracker.bandpage.com/convert/has_offers?",retailer:f.BANDPAGE_RETAILER,remoteId:f.BANDPAGE_REMOTE_ID||n("bp-remote-id"),orderId:f.BANDPAGE_ORDER_ID,ignoreSubdomains:f.BANDPAGE_IGNORE_SUBDOMAINS,landingPageUrl:f.BANDPAGE_LANDING_PAGE_URL,convert:function(r){var n,a={};r=r||{},r.skus=r.skus||d(),e("Converting order:",r),o(a,{retailer:r.retailer||bandpageTracker.retailer,orderId:r.orderId||bandpageTracker.orderId,remoteId:r.remoteId||bandpageTracker.remoteId}),c(a,r.skus),n=u(a),g(n)&&bandpageTracker.doConvert(n)},doConvert:function(r){e("Making conversion request to:",r),(new Image).src=r}}),p=r(k.href,"bp-remote-id"),b=r(k.href,"bp-cookie-life")||14,b=parseInt(b,10),s=new Date,p?(e("Found bp-remote-id querystring param:",{transferBpRemoteId:p,transferCookieLife:b}),s.setDate(s.getDate()+b),l="bp-remote-id="+p+"; path=/; expires="+s.toUTCString(),bandpageTracker.ignoreSubdomains&&(e("Ignoring subdomains."),l+="; domain="+k.hostname.match(/[^\.]+\.[^\.]+$/)[0]),e("Setting bp-remote-id cookie and stopping execution."),void(document.cookie=l)):(m=n("bp-remote-id"),e("bandpageTracker.conversionUrl:",bandpageTracker.conversionUrl),m||e("No bp-remote-id found in cookies."),!m&&bandpageTracker.remoteId&&(e("Retailer has manually specified BANDPAGE_REMOTE_ID:",bandpageTracker.remoteId),m=bandpageTracker.remoteId),!m&&bandpageTracker.landingPageUrl&&(e("BANDPAGE_LANDING_PAGE_URL found:",bandpageTracker.landingPageUrl),m=r(bandpageTracker.landingPageUrl,"bp-remote-id")),m?bandpageTracker.retailer?void bandpageTracker.convert({remoteId:m,skus:d()}):void e("BANDPAGE_RETAILER not found. Stopping execution."):void e("No bp-remote-id found. Stopping execution."))}();